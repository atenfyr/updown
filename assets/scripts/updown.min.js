'use strict';var upCount=-1,downCount=0,score=0,isDisabled=!1,autoLoseTimer,updateScore=function(a){isDisabled||(document.getElementById('score').innerHTML='<br>Score: '+a)},setCookie=function(a,b,c){document.cookie=a+'='+b+';max-age='+60*(60*(24*c))+';path=/'},getCookie=function(a){var b='; '+document.cookie,c=b.split('; '+a+'=');return 2<=c.length?c.pop().split(';').shift():0},endGame=function(){isDisabled||(isDisabled=!0,score>getCookie('highscore')?(setCookie('highscore',score,9999),document.getElementById('highscore').innerHTML='New high score!'):document.getElementById('highscore').innerHTML='High score: '+getCookie('highscore'),setTimeout(function(){document.getElementById('highscore').style.cssText='',setTimeout(function(){document.getElementById('refresh').style.cssText=''},800)},400)),score=0};window.addEventListener('load',function(){document.getElementById('wrapper').style.cssText='',window.cookieconsent.initialise({palette:{popup:{background:'#efefef',text:'#404040'}},button:{background:'#8ec760',text:'#ffffff'}}),document.addEventListener('keydown',function(a){if(a=a||window.event,!isDisabled)switch((38===a.keyCode||87===a.keyCode||40===a.keyCode||83===a.keyCode)&&-1==upCount&&(document.getElementById('instructions').style.cssText='display: none;',document.getElementById('lastmove').style.cssText='',updateScore(0)),a.keyCode){case 38:case 87:20<=document.getElementById('lastmove').innerHTML.length?document.getElementById('lastmove').innerHTML='\u2191':document.getElementById('lastmove').innerHTML+='\u2191',-1!=upCount&&-2!=upCount&&(2<++upCount||2!=downCount)&&endGame(),-1==upCount?upCount=-2:-2==upCount&&(upCount=2),2==upCount&&(downCount=0),autoLoseTimer&&clearTimeout(autoLoseTimer),autoLoseTimer=setTimeout(endGame,300);break;case 40:case 83:20<=document.getElementById('lastmove').innerHTML.length?document.getElementById('lastmove').innerHTML='\u2193':document.getElementById('lastmove').innerHTML+='\u2193',(2<++downCount||2!=upCount)&&endGame(),2==downCount&&(upCount=0,updateScore(++score)),autoLoseTimer&&clearTimeout(autoLoseTimer),autoLoseTimer=setTimeout(endGame,300);}})});