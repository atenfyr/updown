"use strict";var upCount=-1,downCount=0,score=0,isDisabled=!1,autoLoseTimer=void 0,appearTimer=void 0,updateScore=function(e){isDisabled||(document.getElementById("score").innerHTML="<br>Score: "+e)},getHighscore=function(){var e=document.cookie.match(/highscore=(\d*)/);return e&&0<e.length&&e[1]||0},endGame=function(){isDisabled||(isDisabled=!0,score>getHighscore()?(document.cookie="highscore="+score+"; expires=Fri, 31 Dec 9999 23:59:59 GMT",document.getElementById("highscore").innerHTML="New high score!"):document.getElementById("highscore").innerHTML="High score: "+getHighscore(),document.getElementById("highscore").innerHTML+="<br>",appearTimer=setTimeout(function(){document.getElementById("highscore").style.display="",appearTimer=setTimeout(function(){document.getElementById("refresh").style.display=""},800)},400))},resetGame=function(){upCount=-1,isDisabled=!(score=downCount=0),autoLoseTimer&&clearTimeout(autoLoseTimer),autoLoseTimer=void 0,appearTimer&&clearTimeout(appearTimer),appearTimer=void 0,document.getElementById("score").innerHTML="Score: 0",document.getElementById("lastmove").innerHTML="",document.getElementById("highscore").innerHTML="",document.getElementById("lastmove").style.display="none",document.getElementById("highscore").style.display="none",document.getElementById("refresh").style.display="none",document.getElementById("instructions").style.display="",isDisabled=!1};window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#efefef",text:"#404040"},button:{background:"#8ec760",text:"#ffffff"}},content:{message:"This website uses cookies to save your highscore."}}),document.addEventListener("keydown",function(e){if(e=e||window.event,!isDisabled)switch(38!==e.keyCode&&40!==e.keyCode&&87!==e.keyCode&&83!==e.keyCode||-1!==upCount||(document.getElementById("instructions").style.display="none",document.getElementById("lastmove").style.display="",updateScore(0)),e.keyCode){case 38:case 87:20<=document.getElementById("lastmove").innerHTML.length?document.getElementById("lastmove").innerHTML="↑":document.getElementById("lastmove").innerHTML+="↑",-1!==upCount&&-2!==upCount&&(2<++upCount||2!==downCount)&&endGame(),-1===upCount?upCount=-2:-2===upCount&&(upCount=2),2===upCount&&(downCount=0),autoLoseTimer&&clearTimeout(autoLoseTimer),autoLoseTimer=setTimeout(endGame,300);break;case 40:case 83:20<=document.getElementById("lastmove").innerHTML.length?document.getElementById("lastmove").innerHTML="↓":document.getElementById("lastmove").innerHTML+="↓",(2<++downCount||2!==upCount)&&endGame(),2===downCount&&(upCount=0,updateScore(++score)),autoLoseTimer&&clearTimeout(autoLoseTimer),autoLoseTimer=setTimeout(endGame,300)}})});